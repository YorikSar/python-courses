<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8.1: http://docutils.sourceforge.net/" />
<meta name="version" content="S5 1.1" />
<title>Python basic course</title>
<meta name="author" content="Yuriy Taraday" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<script src="ui/small-white/slides.js" type="text/javascript"></script>
<link rel="stylesheet" href="ui/small-white/slides.css"
      type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/small-white/outline.css"
      type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/small-white/print.css"
      type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/small-white/opera.css"
      type="text/css" media="projection" id="operaFix" />

<style type="text/css">
#currentSlide {display: none;}
</style>
</head>
<body>
<div class="layout">
<div id="controls"></div>
<div id="currentSlide"></div>
<div id="header">

</div>
<div id="footer">
<h1>Python basic course</h1>

</div>
</div>
<div class="presentation">
<div class="slide" id="slide0">
<h1 class="title">Python basic course</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Yuriy Taraday</td></tr>
<tr><th class="docinfo-name">Contact:</th>
<td><a class="first reference external" href="mailto:yorik.sar&#64;gmail.com">yorik.sar&#64;gmail.com</a>; <a class="last reference external" href="mailto:ytaraday&#64;mirantis.com">ytaraday&#64;mirantis.com</a></td></tr>
</tbody>
</table>
<!-- Definitions of interpreted text roles (classes) for S5/HTML data. -->
<!-- This data file has been placed in the public domain. -->
<!-- Colours
======= -->
<!-- Text Sizes
========== -->
<!-- Display in Slides (Presentation Mode) Only
========================================== -->
<!-- Display in Outline Mode Only
============================ -->
<!-- Display in Print Only
===================== -->
<!-- Display in Handout Mode Only
============================ -->
<!-- Incremental Display
=================== -->
<div class="contents handout topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id5"></a></li>
<li><a class="reference internal" href="#history-of-glorious-python" id="id6">History of glorious Python</a></li>
<li><a class="reference internal" href="#python-vs-abc-vs-c" id="id7">Python vs. ABC vs. C++</a></li>
<li><a class="reference internal" href="#arithmetic-python" id="id8">Arithmetic Python</a></li>
<li><a class="reference internal" href="#sequence-types" id="id9">Sequence types</a></li>
<li><a class="reference internal" href="#mutable-sequence-operations" id="id10">Mutable sequence operations</a></li>
<li><a class="reference internal" href="#sets-and-frozensets" id="id11">Sets and frozensets</a></li>
<li><a class="reference internal" href="#dictionaries" id="id12">Dictionaries</a></li>
<li><a class="reference internal" href="#logical-operations" id="id13">Logical operations</a></li>
<li><a class="reference internal" href="#string-formatting" id="id14">String formatting</a></li>
<li><a class="reference internal" href="#if-operator" id="id15">If operator</a></li>
<li><a class="reference internal" href="#loops" id="id16">Loops</a></li>
<li><a class="reference internal" href="#functions" id="id17">Functions</a></li>
<li><a class="reference internal" href="#modules" id="id18">Modules</a></li>
<li><a class="reference internal" href="#evals-in-python" id="id19">Evals in Python</a></li>
<li><a class="reference internal" href="#evals-in-python-2" id="id20">Evals in Python 2</a></li>
<li><a class="reference internal" href="#packages" id="id21">Packages</a></li>
<li><a class="reference internal" href="#id2" id="id22"></a></li>
<li><a class="reference internal" href="#module-sys" id="id23">Module: sys</a></li>
<li><a class="reference internal" href="#module-os" id="id24">Module: os</a></li>
<li><a class="reference internal" href="#module-os-walk" id="id25">Module: os.walk()</a></li>
<li><a class="reference internal" href="#module-zipfile" id="id26">Module: zipfile</a></li>
<li><a class="reference internal" href="#id3" id="id27"></a></li>
<li><a class="reference internal" href="#basic-types-hierarchy" id="id28">Basic types hierarchy</a></li>
<li><a class="reference internal" href="#old-style-classes" id="id29">Old-style classes</a></li>
<li><a class="reference internal" href="#new-style-classes" id="id30">New-style classes</a></li>
<li><a class="reference internal" href="#special-methods" id="id31">Special methods</a></li>
<li><a class="reference internal" href="#protocols" id="id32">Protocols</a></li>
<li><a class="reference internal" href="#decorators" id="id33">Decorators</a></li>
<li><a class="reference internal" href="#class-and-static-methods" id="id34">Class and static methods</a></li>
<li><a class="reference internal" href="#properties" id="id35">Properties</a></li>
<li><a class="reference internal" href="#attribute-lookup" id="id36">Attribute lookup</a></li>
<li><a class="reference internal" href="#exceptions" id="id37">Exceptions</a></li>
<li><a class="reference internal" href="#exception-handling" id="id38">Exception handling</a></li>
<li><a class="reference internal" href="#exception-hierarchy" id="id39">Exception hierarchy</a></li>
<li><a class="reference internal" href="#id4" id="id40"></a></li>
<li><a class="reference internal" href="#slots" id="id41">Slots</a></li>
</ul>
</div>
<p>Overall course agenda:</p>
<blockquote>
<ul class="simple">
<li>Python reasons and basics;</li>
<li>standard library, basic operations;</li>
<li>Python data model, OOPing with Python;</li>
<li>other things that might be useful.</li>
</ul>
</blockquote>

</div>
<div class="slide" id="id1">
<h1></h1>
<p class="center huge">Python basics</p>
</div>
<div class="slide" id="history-of-glorious-python">
<h1>History of glorious Python</h1>
<ul class="small simple">
<li>Guido van Rossum - Benevolent Dictator For Life (BDFL)</li>
<li>CWI, Centre for Mathematics and Computer Science (Dutch)</li>
<li>Dec '89 - start, Feb '91 - first public release</li>
<li>new system arch needs new sysadmin tools, C is too complex,
sh is too tied to system</li>
<li>ABC, revised and fixed</li>
<li>Monty Pythonâ€™s Flying Circus, no snakes</li>
<li>Jun '94, &quot;If Guido was hit by a bus?&quot;</li>
<li>around Oct '96, Python code stuck deep inside Windows</li>
<li>Mar '01, Python Software Foundation</li>
<li>Dec '08, backward compatibility breaking Python 3.0</li>
</ul>
</div>
<div class="slide" id="python-vs-abc-vs-c">
<h1>Python vs. ABC vs. C++</h1>
<table border="1" class="tiny docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first"><span class="small">Python</span></p>
<pre class="tiny last literal-block">
def words(document):
   collection = []
   for line in document:
       for word in line.split():
           if word not in collection:
              collection.append(word)
   return collection
</pre>
</td>
<td><p class="first"><span class="small">ABC</span></p>
<pre class="last literal-block">
HOW TO RETURN words document:
   PUT {} IN collection
   FOR line IN document:
      FOR word IN split line:
         IF word not.in collection:
            INSERT word IN collection
   RETURN collection
</pre>
</td>
</tr>
<tr><td colspan="2"><p class="first"><span class="small">C++</span></p>
<pre class="last literal-block">
vector&lt;string&gt;
words(istream &amp;document) {
    vector&lt;string&gt; res;
    string word;
    while (!document.eof()) {
        document &gt;&gt; word;
        if (find(res.begin(), res.end(), word) == res.end()) {
            res.push_back(word);
        }
    }
    return res;
}
</pre>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="arithmetic-python">
<h1>Arithmetic Python</h1>
<ul class="small incremental simple">
<li><tt class="docutils literal">a = b = c = 5</tt> - assignment can be sequenced, but i's not a usual operator, so
<tt class="docutils literal">a = (b = 5)</tt> will fail with syntax error.</li>
<li><tt class="docutils literal">a = (3 + 6 * 7) / 5</tt> # <tt class="docutils literal">a</tt> will be 9, nothing special here, except:</li>
<li><tt class="docutils literal">5/2 == 2</tt>, but <tt class="docutils literal">5/2.0 == 5.0/2 == 2.5</tt> - types are adjusted automagically.</li>
<li><tt class="docutils literal"><span class="pre">123**123</span></tt> # 123 to the power of 123  will be very long (258 digits), but integer.</li>
<li>bitwise operations: <tt class="docutils literal">|</tt>- or, <tt class="docutils literal">&amp;</tt>- and, <tt class="docutils literal">^</tt>- xor, <tt class="docutils literal">~</tt>- not, <tt class="docutils literal">&lt;&lt; &gt;&gt;</tt>- shifts</li>
</ul>
<table border="1" class="small incremental docutils">
<colgroup>
<col width="10%" />
<col width="16%" />
<col width="32%" />
<col width="42%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Type</th>
<th class="head">C type</th>
<th class="head">Limits/precision</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>int</td>
<td>long</td>
<td>-(2^63-1) .. 2^63</td>
<td>fast and precise</td>
</tr>
<tr><td>long</td>
<td>it's too cool</td>
<td>any integer of any size</td>
<td>slower, but unlimited and as precise</td>
</tr>
<tr><td>float</td>
<td>double</td>
<td>1.7*10^308 (~15 digits)</td>
<td>&nbsp;</td>
</tr>
<tr><td>complex</td>
<td>no such</td>
<td>two float parts</td>
<td>complex(1,2) == 1+2j</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="sequence-types">
<h1>Sequence types</h1>
<ul class="small incremental simple">
<li>strings: <tt class="docutils literal">'abc\n'</tt>, <tt class="docutils literal">&quot;abc\n&quot;</tt>, <tt class="docutils literal">r'a\b\c'</tt>, immutable</li>
<li>lists: <tt class="docutils literal">[]</tt>, <tt class="docutils literal">[1,2,3,4,5]</tt></li>
<li>tuples: <tt class="docutils literal">()</tt>, <tt class="docutils literal">(1,2,3,4,5)</tt>, immutable</li>
</ul>
<p class="small incremental">Operations:</p>
<ul class="small incremental simple">
<li>indexing: if <tt class="docutils literal"><span class="pre">a==[0,1,2,3,4]</span></tt>: then <tt class="docutils literal"><span class="pre">a[2]==2</span></tt>; <tt class="docutils literal"><span class="pre">a[2:4]==[2,3]</span></tt>; <tt class="docutils literal"><span class="pre">a[1:4:2]==[1,3]</span></tt></li>
<li>negative indexing: <tt class="docutils literal"><span class="pre">a[-2]==3</span></tt>; <tt class="docutils literal"><span class="pre">a[1:-1]=[1,2,3]</span></tt>; <tt class="docutils literal"><span class="pre">a[-1:-4:-2]==[4,2]</span></tt></li>
<li>inclusion: <tt class="docutils literal">2 in a == True</tt>; <tt class="docutils literal">12 in a == False</tt>; <tt class="docutils literal">5 not in a == True</tt></li>
<li>arithmetic: <tt class="docutils literal"><span class="pre">[2,4]+[3,5]==[2,4,3,5]</span></tt>; <tt class="docutils literal"><span class="pre">[1,2]*3==[1,2,1,2,1,2]</span></tt></li>
<li><tt class="docutils literal"><span class="pre">len(a)==5</span></tt>; <tt class="docutils literal"><span class="pre">min(a)==0</span></tt>; <tt class="docutils literal"><span class="pre">max(a)==4</span></tt>; <tt class="docutils literal"><span class="pre">a.index(3)==3</span></tt>; <tt class="docutils literal"><span class="pre">a.count(4)==1</span></tt></li>
</ul>
</div>
<div class="slide" id="mutable-sequence-operations">
<h1>Mutable sequence operations</h1>
<p class="small borderless">We assume that <tt class="docutils literal"><span class="pre">a==[0,1,2,3,4]</span></tt> before each operation.</p>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>assignment:</p>
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">a[3]=5</span></tt></td>
<td><tt class="docutils literal">[0,1,2,5,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">a[2:4]=[9,8,7]</span></tt></td>
<td><tt class="docutils literal">[0,1,9,8,7,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">a[1:4:2]=[9,8]</span></tt></td>
<td><tt class="docutils literal">[0,9,2,8,4]</tt></td>
</tr>
</tbody>
</table>
</div>
</td>
<td><div class="incremental first last container">
<p>deletion:</p>
<table border="1" class="docutils">
<colgroup>
<col width="61%" />
<col width="39%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">del a[2]</tt></td>
<td><tt class="docutils literal">[0,1,3,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal">del a[2:4]</tt></td>
<td><tt class="docutils literal">[0,1,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal">del</tt> <tt class="docutils literal">a[1:4:2]</tt></td>
<td><tt class="docutils literal">[0,2,4]</tt></td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>extending:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">a.append(5)</tt></td>
<td><tt class="docutils literal">[0,1,2,3,4,5]</tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">a.extend([5,6])</span></tt></td>
<td><tt class="docutils literal">[0,1,2,3,4,5,6]</tt></td>
</tr>
<tr><td><tt class="docutils literal">a.insert(3,9)</tt></td>
<td><tt class="docutils literal">[0,1,2,9,3,4]</tt></td>
</tr>
</tbody>
</table>
</div>
</td>
<td><div class="incremental first last container">
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">a.remove(2)</tt></td>
<td><tt class="docutils literal">[0,1,3,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">a.pop(2)==2</span></tt></td>
<td><tt class="docutils literal">[0,1,3,4]</tt></td>
</tr>
<tr><td><tt class="docutils literal">a.reverse()</tt></td>
<td><tt class="docutils literal">[4,3,2,1,0]</tt></td>
</tr>
<tr><td><tt class="docutils literal">a.sort()</tt></td>
<td><tt class="docutils literal">[0,1,2,3,4]</tt></td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="sets-and-frozensets">
<h1>Sets and frozensets</h1>
<p class="small borderless">Sets can be created like this: <tt class="docutils literal">set()</tt>; <tt class="docutils literal">set(1,2,3)</tt>; <tt class="docutils literal">{1,2,3}</tt>.
Frozensets are immutable sets: <tt class="docutils literal">frozenset()</tt>; <tt class="docutils literal">frozenset(1,2,3)</tt>.</p>
<ul class="small borderless simple">
<li>membership: <tt class="docutils literal">x in s</tt>; <tt class="docutils literal">x not in s</tt></li>
<li>sets relations: <tt class="docutils literal">s1 &lt;= s2</tt>; <tt class="docutils literal">s1 &lt; s2</tt>; <tt class="docutils literal">s1 &gt;= s2</tt>; <tt class="docutils literal">s1 &gt; s2</tt></li>
<li>arithmetic: <tt class="docutils literal">{1,2} | {2,3} == {1,2,3}</tt>; <tt class="docutils literal">{1,2} &amp; {2,3} == {2}</tt>; <tt class="docutils literal"><span class="pre">{1,2}-{2,3}=={1}</span></tt>; <tt class="docutils literal"><span class="pre">{1,2}^{2,3}=={1,3}</span></tt></li>
</ul>
<p class="small borderless">Set, but not frozensets support:</p>
<ul class="small borderless simple">
<li>operators <tt class="docutils literal">|=</tt>; <tt class="docutils literal">&amp;=</tt>; <tt class="docutils literal"><span class="pre">-=</span></tt>; <tt class="docutils literal">^=</tt></li>
<li>methods <tt class="docutils literal">add</tt>; <tt class="docutils literal">remove</tt>; <tt class="docutils literal">discard</tt>; <tt class="docutils literal">pop</tt>; <tt class="docutils literal">clear</tt></li>
</ul>
</div>
<div class="slide" id="dictionaries">
<h1>Dictionaries</h1>
<p class="small"><tt class="docutils literal">dict()</tt> is mapping of some objects to some other objects. Also can be constructed
with <tt class="docutils literal">{}</tt> or <tt class="docutils literal"><span class="pre">{'a':2,3:(1,2)}</span></tt></p>
<ul class="small simple">
<li><tt class="docutils literal">len(d)</tt>, <tt class="docutils literal"><span class="pre">d['a']</span></tt>, <tt class="docutils literal">del <span class="pre">d['a']</span></tt> work just like with lists</li>
<li><tt class="docutils literal">'a' in d</tt>, <tt class="docutils literal">2 not in d</tt> work on the set of keys</li>
<li><tt class="docutils literal">d.get(2)</tt> returns <tt class="docutils literal">None</tt> instead of error if key is not found</li>
</ul>
</div>
<div class="slide" id="logical-operations">
<h1>Logical operations</h1>
<ul class="small simple">
<li>False values are: <tt class="docutils literal">None</tt>; <tt class="docutils literal">False</tt>; all zeros (<tt class="docutils literal">0</tt>, <tt class="docutils literal">0.0</tt>, <tt class="docutils literal">0L</tt>);
empty collections (<tt class="docutils literal">()</tt>, <tt class="docutils literal">[]</tt>, <tt class="docutils literal">{}</tt>, <tt class="docutils literal">set()</tt>)</li>
<li>operators: <tt class="docutils literal">and</tt>, <tt class="docutils literal">or</tt>, <tt class="docutils literal">not</tt></li>
<li>comparsions: <tt class="docutils literal">&lt;</tt>, <tt class="docutils literal">&lt;=</tt>, <tt class="docutils literal">&gt;</tt>, <tt class="docutils literal">&gt;=</tt>, <tt class="docutils literal">==</tt>, <tt class="docutils literal">!=</tt>, <tt class="docutils literal">is</tt>, <tt class="docutils literal">is not</tt></li>
<li>comparsions can be chuncked: <tt class="docutils literal">a &lt; b &lt; c &lt; d &lt; e</tt> ~ <tt class="docutils literal">(a&lt;b) and (b&lt;c) and (c&lt;d) and (d&lt;e)</tt></li>
</ul>
</div>
<div class="slide" id="string-formatting">
<h1>String formatting</h1>
<!--  -->
<blockquote class="tiny">
<tt class="docutils literal">&quot;Where is my %dth <span class="pre">%s?&quot;</span> % (10, &quot;shoe&quot;)</tt></blockquote>
<p class="tiny">Oldschool string formatting looks very much like formatting in C:</p>
<blockquote class="tiny">
<tt class="docutils literal"><span class="pre">%&lt;mapping&gt;&lt;flags&gt;&lt;width&gt;&lt;precision&gt;&lt;type&gt;</span></tt></blockquote>
<p class="tiny">Where:</p>
<ul class="tiny simple">
<li><tt class="docutils literal">&lt;mapping&gt;</tt> can be reference to a key in mapping (if there is one after <tt class="docutils literal">%</tt> operator)
like <tt class="docutils literal"><span class="pre">&quot;%(a)d</span> %(b)s&quot; % {'a': 1, 'b': &quot;as&quot;}</tt></li>
<li><tt class="docutils literal">&lt;flags&gt;</tt> is zero or more flags:<ul>
<li><tt class="docutils literal">0</tt> fills empty space to the right side of value with zeroes or spaces</li>
<li><tt class="docutils literal">-</tt> ajusts value to the left hand</li>
<li><tt class="docutils literal">+</tt> adds sign before numeral value</li>
<li>`` `` adds space before positive numeral</li>
</ul>
</li>
<li><tt class="docutils literal">&lt;width&gt;</tt> is field width</li>
<li><tt class="docutils literal">&lt;precision&gt;</tt> is dot folowed by number of meaningful digits after the decimal point</li>
<li><tt class="docutils literal">&lt;type&gt;</tt> is one of <tt class="docutils literal">s</tt>, <tt class="docutils literal">d</tt>, <tt class="docutils literal">o</tt>, <tt class="docutils literal">h</tt>, etc. Just like in C, but you'll need anything
but <tt class="docutils literal">s</tt> very rarely.</li>
</ul>
<p class="tiny">Examples:</p>
<table border="1" class="tiny borderless docutils">
<colgroup>
<col width="59%" />
<col width="13%" />
<col width="28%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">&quot;%05s&quot; % <span class="pre">(&quot;abc&quot;,)</span></tt></td>
<td><tt class="docutils literal">=&gt;</tt></td>
<td><tt class="docutils literal">&quot;&nbsp; abc&quot;</tt></td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">&quot;%-+7.2f&quot;</span> % (10.34567,)</tt></td>
<td><tt class="docutils literal">=&gt;</tt></td>
<td><tt class="docutils literal">&quot;+10.35 &quot;</tt></td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="if-operator">
<h1>If operator</h1>
<p class="small borderless">Python has no operator brackets. Neither {} from C nor begin..end from Pascal
survived. Blocks are distinguised by indent (spaces or tabs, tabs are bad).
Colon is for clearness only.</p>
<p class="small borderless">There is no switch operator in Python, it can be modeled by if..elif.</p>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>Basic:</p>
<pre class="literal-block">
if cond1:
  op1
elif cond2:
  op2
elif cond3:
  op3
else:
  op4
</pre>
</div>
</td>
<td><div class="incremental first last container">
<p>switch-like:</p>
<pre class="literal-block">
if a == 1:
  op1
elif a == 2:
  op2
elif a == 3:
  op3
else:
  op4
</pre>
</div>
</td>
<td><div class="incremental first last container">
<p>False conds are:</p>
<ul class="simple">
<li>None</li>
<li>False</li>
<li>0, 0L, 0.0, 0+0j</li>
<li>(), [], {}, set()</li>
<li>any other object
that can tell us
that it's false or
empty or zero</li>
</ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="loops">
<h1>Loops</h1>
<table border="1" class="tiny borderless docutils">
<colgroup>
<col width="48%" />
<col width="52%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">There are just two loops:</p>
<div class="incremental last container">
<p><tt class="docutils literal">while</tt> loop is as simple as</p>
<pre class="literal-block">
while cond1:
  op1
</pre>
<p>Nothing special</p>
</div>
</td>
<td rowspan="2"><div class="incremental first last container">
<p><tt class="docutils literal">for</tt> loop is way more powerfull:</p>
<pre class="literal-block">
for name in sequence:
  ops
</pre>
<p><tt class="docutils literal">name</tt> iterates over each element of
sequence. Sequence can be string, tuple,
list, set, dict or of any other type that
defines itself as iterable. If you iterate over
dict, you iterate over its keys.</p>
</div>
</td>
</tr>
<tr><td rowspan="2"><div class="incremental first last container">
<p>If you want to mimic ordinal C for loop:</p>
<pre class="literal-block">
for (i=0; i&lt;5; i++)
</pre>
<p>You should use <tt class="docutils literal">range</tt> func:</p>
<pre class="literal-block">
for i in range(5):
</pre>
<p><tt class="docutils literal">range</tt> can take up to 3 args like slice
operator:</p>
<pre class="literal-block">
range(3) == [0,1,2]
range(2,4) == [2,3]
range(1,4,2) == [1,3]
</pre>
</div>
</td>
</tr>
<tr><td><div class="incremental first container">
<p>To iterate over sequence with index, use
<tt class="docutils literal">enumerate</tt> function:</p>
<pre class="literal-block">
for i,e in enumerate(seq):
</pre>
<p>Here <tt class="docutils literal">i</tt> will be zero-based index of element
in <tt class="docutils literal">e</tt> while <tt class="docutils literal">e</tt> iterates over sequence as
usual</p>
</div>
<div class="incremental last container">
<p>Note that you can use this comma trick in
assignment:</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="3%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">a,b = (1,2)</tt></td>
<td>~</td>
<td><tt class="docutils literal">a=1; b=2</tt></td>
</tr>
<tr><td><tt class="docutils literal">a,b = b,a</tt></td>
<td>~</td>
<td><tt class="docutils literal">_t=a; a=b; b=_t</tt></td>
</tr>
</tbody>
</table>
<p>It's named packing (on the left side) and
unpacking (on the right one).</p>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="functions">
<h1>Functions</h1>
<table border="1" class="tiny borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">Functions are defined like this:</p>
<pre class="literal-block">
def f(param1, param2, param3):
  op1
  op2
  return value
</pre>
<div class="incremental container">
<p>Note that you can use packing to return several
values at a time:</p>
<pre class="literal-block">
def f(a,b,c):
  return a+b, b+c

x, y = f(1,2,3) # x==3; y==5
</pre>
</div>
<div class="incremental container">
<p>You can set a default values to arguments and
pass only necessary ones:</p>
<pre class="literal-block">
def f(a,b,c=4,d=5):
  pass

f(a,b,d=8)
</pre>
</div>
<div class="incremental last container">
<p>Note that you should use <tt class="docutils literal">global</tt> to modify global vars:</p>
<pre class="literal-block">
a, b = 1, 2
def f():
  global a
  a, b = 3, 4
f() # a==3, b==2
</pre>
</div>
</td>
<td><div class="incremental first container">
<p>You even can pass all parameters at once:</p>
<pre class="literal-block">
args = [1,2,3,4]
f(*args) # =&gt; f(1,2,3,4)
</pre>
</div>
<!-- ** -->
<div class="incremental container">
<p>Or receive variable number of parameters:</p>
<pre class="literal-block">
def f(*args):
  pass

f(1,2,3,4) # =&gt; args == (1,2,3,4)
</pre>
<!-- ** -->
</div>
<div class="incremental container">
<p>You can do bulk passing with skipped args
too:</p>
<pre class="literal-block">
args = [1,2,3,4]
kwargs = {'d': 5, 'e': 6}
f(*args,**kwargs) # ~ f(1,2,3,4,d=5,e=6)
</pre>
<!-- ** -->
</div>
<div class="incremental last container">
<p>And receive them too:</p>
<pre class="literal-block">
def f(a,b,**kwargs): pass
f(1,2,f=5,z=4) # =&gt; a==1,b==2,
               # kwargs=={'f':5,'z':4}
</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="modules">
<h1>Modules</h1>
<p class="small borderless">Every <tt class="docutils literal">.py</tt> file is a module in Python. You can use it from outside easily:</p>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">a.py</p>
<pre class="last literal-block">
def f(a,b):
  return a**2 + b**2
C = 25
</pre>
</td>
<td><p class="first">b.py</p>
<pre class="last literal-block">
import a
assert a.f(2,3) == a.C
</pre>
</td>
</tr>
</tbody>
</table>
<p class="small borderless">Modules are looked for in directories in <tt class="docutils literal">sys.path</tt> list:</p>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr><td><pre class="first last literal-block">
import sys
sys.path.append('path/to/my/modules')
import mymodule
</pre>
</td>
</tr>
</tbody>
</table>
<p class="small borderless">Note that module's body is executed on import.</p>
</div>
<div class="slide" id="evals-in-python">
<h1>Evals in Python</h1>
<div class="small borderless incremental container">
<p>Function <tt class="docutils literal">eval</tt> evaluates string of Python code in some context:</p>
<pre class="literal-block">
globals = {'a': 1}
locals = {'b': 2}
eval(&quot;a,b = 3,4&quot;, globals, locals)
    # globals=={'a': 1}, locals=={'b': 4}
</pre>
</div>
<div class="small borderless incremental container">
You can access global and local dicts of curren block with <tt class="docutils literal">globals()</tt> and
<tt class="docutils literal">locals()</tt> functions. <tt class="docutils literal">a = 1</tt> is equivalent of <tt class="docutils literal"><span class="pre">locals()['a']</span> = 1</tt>.</div>
<div class="small borderless incremental container">
<p>So <tt class="docutils literal">import &lt;name&gt;</tt> process looks like this:</p>
<pre class="literal-block">
filename = find_module(&quot;&lt;name&gt;&quot;)
body = open(filename).read()
&lt;name&gt; = module(&quot;&lt;name&gt;&quot;)
eval(compile(body, filename, 'exec'), {}, &lt;name&gt;.__dict__)
</pre>
</div>
</div>
<div class="slide" id="evals-in-python-2">
<h1>Evals in Python 2</h1>
<table border="1" class="small borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>And you can use it to argument your module depending on some external
conditions:</p>
<table border="1" class="borderless docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">a.py:</p>
<pre class="last literal-block">
if we_got_windows:
  def do_it():
    do_it_windows_style()
else:
  def do_it():
    do_it_easy_way()
</pre>
</td>
</tr>
<tr><td><p class="first">b.py:</p>
<pre class="last literal-block">
import a
do_it() # Will do it right way
        # on any OS
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</td>
<td><div class="incremental first last container">
<p>By the way, functions can use this dynamic too:</p>
<pre class="literal-block">
def get_f(zero, value):
  if zero:
    def f(a):
      return 0
  else:
    def f(a):
      return a*value
  return f
f1 = get_f(True, 5)
f2 = get_f(False, 5)
f1(4) # =&gt; 0
f2(4) # =&gt; 20
</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="packages">
<h1>Packages</h1>
<div class="small container">
<p>Modules can be grouped into modules - directories with special
<tt class="docutils literal">__init__.py</tt> file. Contents of this file are attached to package and
all modules inside this package become accessible through the dot after
package name:</p>
<table border="1" class="borderless docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">a/__init__.py:</p>
<pre class="last literal-block">
CC = 5
</pre>
</td>
<td><p class="first">a/bb.py:</p>
<pre class="last literal-block">
ZZ = 6
</pre>
</td>
<td><p class="first">main.py:</p>
<pre class="last literal-block">
import a
a.CC # works
a.bb # error - a.bb is not imported yet
import a.bb
a.bb.ZZ # works
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="slide" id="id2">
<h1></h1>
<p><span class="huge">Standard Library</span></p>
<blockquote>
There is about 200 standard modules and packages in Python. We'll look into
some of them.</blockquote>
</div>
<div class="slide" id="module-sys">
<h1>Module: sys</h1>
<p class="small">Contains lots of OS-agnostic runtime interpretator's stuff</p>
<table border="1" class="small docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">argv</tt></td>
<td>like (argc, argv) in C</td>
</tr>
<tr><td><tt class="docutils literal">exit(n)</tt></td>
<td>exit with status n (default 0), like <tt class="docutils literal">return</tt> from <tt class="docutils literal">main</tt> in C</td>
</tr>
<tr><td><tt class="docutils literal">platform</tt></td>
<td>current platform (linux, windows, darwin)</td>
</tr>
<tr><td><tt class="docutils literal">stdin</tt>, <tt class="docutils literal">stdout</tt>, <tt class="docutils literal">stderr</tt></td>
<td>standard i/o streams</td>
</tr>
<tr><td><tt class="docutils literal">version</tt></td>
<td>Python's version</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="module-os">
<h1>Module: os</h1>
<p class="small">OS-specific stuff, partly available on all OS's</p>
<table border="1" class="small docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">environ</tt></td>
<td>dict containing all OS environment variables</td>
</tr>
<tr><td><tt class="docutils literal">curdir</tt></td>
<td>symbol for current dir (dot)</td>
</tr>
<tr><td><tt class="docutils literal">sep</tt>, <tt class="docutils literal">altsep</tt></td>
<td>path separator (<tt class="docutils literal">\</tt> or <tt class="docutils literal">/</tt> or even <tt class="docutils literal">:</tt>)</td>
</tr>
<tr><td><tt class="docutils literal">pathsep</tt></td>
<td>paths list separator (<tt class="docutils literal">:</tt> or <tt class="docutils literal">;</tt>)</td>
</tr>
<tr><td><tt class="docutils literal">linesep</tt></td>
<td>line separator (<tt class="docutils literal">\r</tt> or <tt class="docutils literal">\n</tt> or <tt class="docutils literal">\r\n</tt>)</td>
</tr>
</tbody>
</table>
<table border="1" class="small docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal">chdir(dir)</tt></td>
<td>change current dir</td>
</tr>
<tr><td><tt class="docutils literal">getcwd()</tt></td>
<td>get current dir</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">chmod(path[,mode])</span></tt></td>
<td>change file access flags (n/a on Windows)</td>
</tr>
<tr><td><tt class="docutils literal">listdir(dir)</tt></td>
<td>contents of dir</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">mkdir(dir[,mode])</span></tt></td>
<td>create dir with access flags</td>
</tr>
<tr><td><tt class="docutils literal">remove(path)</tt></td>
<td>delete file</td>
</tr>
<tr><td><tt class="docutils literal">rmdir(path)</tt></td>
<td>delete dir</td>
</tr>
<tr><td><tt class="docutils literal">rename(src,dst)</tt></td>
<td>rename path</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="module-os-walk">
<h1>Module: os.walk()</h1>
<p class="small">Function <tt class="docutils literal">os.walk(dir)</tt> allows you to walk around directory tree.</p>
<pre class="small literal-block">
for root, dirs, files in os.walk(dir):
  print &quot;In dir %s:&quot; % (root,)
  print &quot;Dirs:&quot;
  for d in dirs:
    print d
  print &quot;Files:&quot;
  for f in files:
    print f
</pre>
</div>
<div class="slide" id="module-zipfile">
<h1>Module: zipfile</h1>
<p class="small">Everything for your zip file management:</p>
<pre class="small literal-block">
import zipfile

f = zipfile.ZipFile('myfile.zip','a')
                        # can be 'r' or 'w'
f.write('myfile.txt')
f.write('theirfile.txt', 'othername.txt')
print f.open('somefile.txt').read()
f.close()
</pre>
</div>
<div class="slide" id="id3">
<h1></h1>
<blockquote>
<span class="huge">Object Oriented Programming in Python</span></blockquote>
</div>
<div class="slide" id="basic-types-hierarchy">
<h1>Basic types hierarchy</h1>
<ul class="small simple">
<li><tt class="docutils literal">object</tt></li>
</ul>
<blockquote class="small">
<ul class="simple">
<li><tt class="docutils literal">NoneType</tt> - singletone <tt class="docutils literal">None</tt></li>
<li><tt class="docutils literal">NotImplementedType</tt> - singletone <tt class="docutils literal">NotImplemented</tt></li>
<li><tt class="docutils literal">numbers.Number</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">numbers.Integral</tt> - <tt class="docutils literal">int</tt>, <tt class="docutils literal">long</tt>, <tt class="docutils literal">bool</tt></li>
<li><tt class="docutils literal">numbers.Real</tt> - <tt class="docutils literal">float</tt></li>
<li><tt class="docutils literal">numbers.Complex</tt> - <tt class="docutils literal">complex</tt></li>
</ul>
</blockquote>
<ul class="simple">
<li><tt class="docutils literal">basestring</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">str</tt> (<tt class="docutils literal">types.StringType</tt>)</li>
<li><tt class="docutils literal">unicode</tt> (<tt class="docutils literal">types.UnicodeType</tt>)</li>
</ul>
</blockquote>
</blockquote>
</div>
<div class="slide" id="old-style-classes">
<h1>Old-style classes</h1>
<p class="center incremental big"><span class="incremental">Forget about them</span></p>
</div>
<div class="slide" id="new-style-classes">
<h1>New-style classes</h1>
<table border="1" class="borderless tiny docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first container">
<p>Classes are declared like this:</p>
<pre class="literal-block">
class C(object):
  cls_var = 123
  def __init__(self, param):
    self.obj_var = param
    self.cls_var += 1
  def f(self):
    print self.cls_var, self.obj_var
</pre>
</div>
<div class="incremental container">
<p>Objects are created by calling a class:</p>
<pre class="literal-block">
c = C(123)
# ~
c = C.__new__(123)
c.__init__(123)
</pre>
</div>
<div class="incremental last container">
<p>Inheritance can be done as usual:</p>
<pre class="literal-block">
class A(object):
  a = 1
class B(A):
  b = 2
class C(B):
  b = 3
</pre>
</div>
</td>
<td><div class="incremental first container">
<p>Note that Python is very dynamic:</p>
<pre class="literal-block">
class WeGetSignal(all_your_base()):
  &quot;&quot;&quot;How are you gentlemen&quot;&quot;&quot;
  if are_belong_to_us():
    def make_your_time(self):
      move_zig()
  else:
    def make_your_time(self):
      for_greate_justice()
</pre>
</div>
<div class="incremental container">
<p>In fact, class declaration equals to something like this:</p>
<pre class="literal-block">
bases = (object,)
body = &quot;cls_var=123\ndef __init__(self, param):......&quot;
_attrs = {}
eval(compile(body,__name__,'exec'),globals(),_attrs)
C = type(&quot;C&quot;, bases, _attrs)
</pre>
</div>
<div class="incremental last container">
<p>You can not hide a name inside class, but you can:</p>
<pre class="literal-block">
class C(object):
  _hint_to_hide = 0
      # polite programmers will not touch it
  def __obscure_hide():
      # will be converted to _C__obscure_hide
    pass
</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="special-methods">
<h1>Special methods</h1>
<p class="small incremental">All that <tt class="docutils literal">__methods__</tt> are special methods, they are used instead of
operator overloading and lots of other class tuning. Examples:</p>
<ul class="small incremental simple">
<li><tt class="docutils literal">__new__</tt> - create object or fine-tune object creation, mostly used in
metaclasses;</li>
<li><tt class="docutils literal">__init__</tt> - constructor, object's variables declaration;</li>
<li><tt class="docutils literal">__del__</tt> is called when object is destroyed, but not necessary;</li>
<li><tt class="docutils literal">__str__</tt>, <tt class="docutils literal">__repr__</tt> are used to convert object to string like
<tt class="docutils literal">str(obj)</tt> or <tt class="docutils literal">repr(obj)</tt>, remember <tt class="docutils literal">%s</tt> and <tt class="docutils literal">%r</tt> formatting</li>
<li><tt class="docutils literal">__lt__</tt>, <tt class="docutils literal">__le__</tt>, <tt class="docutils literal">__gt__</tt>, <tt class="docutils literal">__ge__</tt>, <tt class="docutils literal">__eq__</tt>, <tt class="docutils literal">__ne__</tt> are
used by all that comparsion operators, so that for example <tt class="docutils literal">a&lt;b</tt> is
equivalent to <tt class="docutils literal">a.__lt__(b)</tt> or <tt class="docutils literal">b.__gt__(a)</tt> if the first one is not
implemented or returns <tt class="docutils literal">NotImplemented</tt></li>
<li><tt class="docutils literal">__cmp__</tt> does all what the previous ones does, returning negative,
positive values or zero if object is less, greater or equals the parameter
respectively.</li>
</ul>
</div>
<div class="slide" id="protocols">
<h1>Protocols</h1>
<p class="small">There is number of so called protocols in Python. Protocol is some rules about
class or object that must be met to make built-in functions work.</p>
<table border="1" class="borderless small docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>For example, <tt class="docutils literal">for</tt> loop:</p>
<pre class="literal-block">
for v in obj:
  do_it(v)
</pre>
<p>equals to</p>
<pre class="literal-block">
_it = obj.__iter__()
while True:
  try:
    v = _it.next()
  except StopIteration:
    break
  do_it(v)
</pre>
</div>
</td>
<td><p class="incremental first">So, iterator protocol requires:</p>
<ul class="incremental last simple">
<li>container to have <tt class="docutils literal">__iter__</tt> method (which can be called throgh
<tt class="docutils literal">iter(obj)</tt> built-in) that returns iterator;</li>
<li>iterator to have <tt class="docutils literal">next</tt> method which returns next element or raises
<tt class="docutils literal">StopIteration</tt> exception when passed through the end of container;</li>
<li>iterator to have <tt class="docutils literal">__iter__</tt> method that returns iterator itself,
just for completeness.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="decorators">
<h1>Decorators</h1>
<table border="1" class="tiny borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first container">
<pre class="literal-block">
&#64;decorate
def f(): pass
</pre>
<p>equals to:</p>
<pre class="literal-block">
def f(): pass
f = decorate(f)
</pre>
</div>
<div class="incremental container">
<p>you can do some function call:</p>
<pre class="literal-block">
&#64;decorate('like this')
def f(): pass
</pre>
</div>
<div class="incremental last container">
<p>and you can decorate classes:</p>
<pre class="literal-block">
&#64;shiny
class C(object): pass
</pre>
</div>
</td>
<td><div class="incremental first container">
<p>decorators usually look like this:</p>
<pre class="literal-block">
def decorate1(f):
  def _wrapped(*args,**kwargs):
    print &quot;%s(*%s,**%s)&quot; % \
        (f.__name__,args,kwargs)
    return f(*args,**kwargs)
  return _wrapped
</pre>
<!-- ** -->
</div>
<div class="incremental last container">
<p>or like this:</p>
<pre class="literal-block">
def decorate2(kind):
  def __inner(f):
    def _wrapped(*args,**kwargs):
      print &quot;%s %s(*%s,**%s)&quot; % \
          (kind,f.__name__,args,kwargs)
      return f(*args,**kwargs)
    return _wrapped
  return __inner
</pre>
<!-- ** -->
</div>
</td>
</tr>
</tbody>
</table>
<table border="1" class="tiny borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first last container">
<p>so that:</p>
<table border="1" class="borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><pre class="first last literal-block">
&#64;decorate1
def f1(a): return a+1

&#64;decorate2('Cute')
def f2(a): return a-1
</pre>
</td>
<td><pre class="first last literal-block">
&#64;decorate2('Shiny')
def f3(a): return a*2
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</td>
<td><div class="incremental first last container">
<table border="1" class="borderless docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><p class="first">will cause:</p>
<pre class="last literal-block">
print f1(1)
print f2(a=2)
print f3(3,a=3)
</pre>
</td>
<td><p class="first">to print:</p>
<pre class="last literal-block">
f1((1,),{})
2
Cute f2((),{'a':2})
1
Shiny f3((3,),{'a':3})
### ERROR!!!! ###
</pre>
</td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="class-and-static-methods">
<h1>Class and static methods</h1>
<p class="tiny">Of course you want to have methods bound not to object, but to class, or even
unbound method encapsulated into class namespace.</p>
<table border="1" class="borderless tiny docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first container">
<p>Class methods are bound to current class:</p>
<pre class="literal-block">
class A(object):
  &#64;classmethod
  def f(cls):
    return &quot;%s.f&quot; % (cls.__name__,)

class B(A): pass

A.f(), B.f() # =&gt; &quot;A.f&quot;, &quot;B.f&quot;
</pre>
</div>
<div class="incremental container">
<p>Static methods are totally unbound:</p>
<pre class="literal-block">
class C(object):
  &#64;staticmethod
  def f(): # No cls, no self
    pass
</pre>
</div>
<p class="incremental last">Bound methods are methods which already have first argument substituted.</p>
</td>
<td><div class="incremental first container">
<p>Let's say, you have:</p>
<pre class="literal-block">
class A(object):
  def m(self): pass
  &#64;classmethod
  def cls_m(cls): pass
  &#64;staticmethod
  def st_m(): pass

class B(A): pass

a = A(); b = B()
</pre>
</div>
<div class="incremental container">
<p>Then methods will be bound like this:</p>
<table border="1" class="center docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">f</th>
<th class="head"><tt class="docutils literal">A.f</tt></th>
<th class="head"><tt class="docutils literal">B.f</tt></th>
<th class="head"><tt class="docutils literal">a.f</tt></th>
<th class="head"><tt class="docutils literal">b.f</tt></th>
</tr>
</thead>
<tbody valign="top">
<tr><td><tt class="docutils literal">m</tt></td>
<td>no</td>
<td>no</td>
<td><tt class="docutils literal">a</tt></td>
<td><tt class="docutils literal">b</tt></td>
</tr>
<tr><td><tt class="docutils literal">cls_m</tt></td>
<td><tt class="docutils literal">A</tt></td>
<td><tt class="docutils literal">B</tt></td>
<td><tt class="docutils literal">A</tt></td>
<td><tt class="docutils literal">B</tt></td>
</tr>
<tr><td><tt class="docutils literal">st_m</tt></td>
<td>no</td>
<td>no</td>
<td>no</td>
<td>no</td>
</tr>
</tbody>
</table>
</div>
<div class="incremental container">
<p>To access overloaded method, you should use built-in method <tt class="docutils literal">super</tt>:</p>
<pre class="literal-block">
super(C,obj).meth # =&gt; meth bound to a parent of C
</pre>
</div>
<p class="incremental last">Yes, I'm lying again.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="properties">
<h1>Properties</h1>
<table border="1" class="borderless small docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr><td><div class="incremental first container">
<p>Sometimes you want some syntax sugar to make your life easier and access
computed values as object's fields, not as method result:</p>
<pre class="literal-block">
class C(object):
  def getx(self):
    return self._x
  def setx(self,value):
    self._x = value
  def delx(self):
    del self._x
  x = property(getx, setx, delx)
</pre>
</div>
<div class="incremental last container">
<p>So that:</p>
<pre class="literal-block">
c.x       # ~ c.getx()
c.x = 123 # ~ c.setx(123)
del c.x   # ~ c.delx()
</pre>
</div>
</td>
<td><div class="incremental first last container">
<p>Note that all arguments except the first one are optional, so <tt class="docutils literal">property</tt> can
be used as decorator:</p>
<pre class="literal-block">
class C(object):
  &#64;property
  def x(self):
    return self._x
  &#64;x.setter
  def x(self,value):
    self._x = value
  &#64;x.deleter
  def x(self):
    del self._x
</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="slide" id="attribute-lookup">
<h1>Attribute lookup</h1>
<div class="small incremental container">
<p>You may wonder how <tt class="docutils literal">.</tt> &quot;operator&quot; works. Here are few easy steps:</p>
<ol class="arabic simple">
<li>look in obj.__dict__</li>
<li>look in type(obj) and its parents</li>
<li>call <tt class="docutils literal">__getattr__</tt>, <tt class="docutils literal">__setattr__</tt> or <tt class="docutils literal">__delattr__</tt></li>
</ol>
</div>
<div class="small incremental container">
<p>So default behaviour can be mimiced like this:</p>
<pre class="literal-block">
class C(object):
  def __getattr__(self,name):
    try:
      return self.__dict__[name]
    except KeyError:
      raise AttributeError
  def __setattr__(self,name,value):
    self.__dict__[name] = value
  def __delattr__(self,name):
    del self.__dict__[name]
</pre>
</div>
</div>
<div class="slide" id="exceptions">
<h1>Exceptions</h1>
<p class="small incremental">Python supports very common exception handling process: if comewhere some
error occurs, exception is raised at that level, then stack is unwinded to
find first sutable exception handler, which is then executed.</p>
<p class="small incremental">Raised exception consists of type, value and traceback. They can be retrieved
with <tt class="docutils literal">sys.exc_info()</tt> call.</p>
<div class="small incremental container">
<p>Whole syntax of <tt class="docutils literal">raise</tt> statement is:</p>
<pre class="literal-block">
raise [&lt;type&gt;[,&lt;value&gt;[,&lt;traceback&gt;]]]]
</pre>
</div>
<p class="small incremental">When called without arguments, it reraises last raised exception (or raises
<tt class="docutils literal">TypeError</tt> if there isn't one).</p>
<p class="small incremental">When called with one argument, it can be either exception type (which is
instantiated and raised)or exception object (which is just raised).</p>
<p class="small incremental">Traceback is set to current location in stack or to the third argument, if it
is present.</p>
</div>
<div class="slide" id="exception-handling">
<h1>Exception handling</h1>
<div class="small container">
<p>Exception can be handled using try..except block:</p>
<pre class="literal-block">
try:
  do_something()
except ExceptionType:
  handle_exception()
except (ExceptionType1, ExceptionType2) as exc:
  handle(exc)
else:
  hail_somebody_for_clean_execution()
finally:
  do_cleanup_anyway()
</pre>
</div>
</div>
<div class="slide" id="exception-hierarchy">
<h1>Exception hierarchy</h1>
<ul class="tiny simple">
<li><tt class="docutils literal">BaseException</tt></li>
</ul>
<blockquote class="tiny">
<ul class="simple">
<li><tt class="docutils literal">SystemExit</tt></li>
<li><tt class="docutils literal">KeyboardInterrupt</tt></li>
<li><tt class="docutils literal">Exception</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">StandardError</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">ArithmeticError</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">ZeroDivisionError</tt></li>
<li><tt class="docutils literal">OvervlowError</tt></li>
</ul>
</blockquote>
<ul class="simple">
<li><tt class="docutils literal">LookupError</tt></li>
</ul>
<blockquote>
<ul class="simple">
<li><tt class="docutils literal">IndexError</tt></li>
<li><tt class="docutils literal">KeyError</tt></li>
</ul>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</div>
<div class="slide" id="id4">
<h1></h1>
<blockquote>
<span class="huge">Useful stuff</span></blockquote>
</div>
<div class="slide" id="slots">
<h1>Slots</h1>
<div class="small incremental container">
You may have noted that every object requires a dictionary instance for its
<tt class="docutils literal">__dict__</tt>, which doesn't looks good for classes that contains one or two
fields.</div>
</div>
</div>
</body>
</html>
